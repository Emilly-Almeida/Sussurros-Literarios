{% extends "base.html" %}

{% block title %}Buscar - Sussurros Literários{% endblock %}

{% block content %}
<div class="container">
    <div class="search-page-header">
        <h1>
            <i class="fas fa-search"></i>
            Buscar
        </h1>
    </div>

    <!-- Barra de Busca -->
    <div class="search-section">
        <form action="{{ url_for('buscar') }}" method="GET" class="search-form">
            <div class="search-input-group">
                <i class="fas fa-search"></i>
                <input type="text" name="q" value="{{ query }}" placeholder="Buscar livros, autores ou gêneros..." class="search-input" autofocus>
                <button type="submit" class="btn btn-primary">
                    Buscar
                </button>
            </div>
        </form>
    </div>

    <!-- Resultados -->
    {% if query %}
    <div class="search-results">
        <h2>
            Resultados para "{{ query }}"
            {% if resultados %}
            <span class="result-count">({{ resultados|length }} encontrado(s))</span>
            {% endif %}
        </h2>

        {% if resultados %}
        <div class="results-list">
            {% for resultado in resultados %}
            <div class="result-item">
                <a href="{{ resultado.url }}">
                    <div class="result-icon">
                        {% if resultado.tipo == 'livro' %}
                        <i class="fas fa-book"></i>
                        {% elif resultado.tipo == 'autor' %}
                        <i class="fas fa-user"></i>
                        {% else %}
                        <i class="fas fa-tag"></i>
                        {% endif %}
                    </div>
                    <div class="result-content">
                        <h3>{{ resultado.titulo }}</h3>
                        <p>{{ resultado.subtitulo }}</p>
                    </div>
                    <div class="result-arrow">
                        <i class="fas fa-chevron-right"></i>
                    </div>
                </a>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <div class="empty-state">
            <i class="fas fa-search"></i>
            <p>Nenhum resultado encontrado para "{{ query }}"</p>
            <p class="empty-suggestion">Tente usar palavras-chave diferentes ou mais específicas.</p>
        </div>
        {% endif %}
    </div>
    {% endif %}
</div>
{% endblock %}
